<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		
		<title>VideoEvents.js</title>
		
		<script src="https://player.vimeo.com/api/player.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="VideoEvents.js"></script>
	<body>
		<iframe id="player" type="text/html" width="640" height="390" src="http://www.youtube.com/embed/M7lc1UVf-VE?enablejsapi=1" frameborder="0"></iframe>
		
		<iframe id="vimeoplayer" src="https://player.vimeo.com/video/165053513" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
		
		<script type="text/javascript">
			var tag = document.createElement('script');
			tag.src = "https://www.youtube.com/iframe_api";
			var firstScriptTag = document.getElementsByTagName('script')[0];
			firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
			
			function onYouTubeIframeAPIReady() {
				console.log('api');
				
				var player = new YT.Player('player');
				var videoEvents = new VideoEvents(player);
				videoEvents.on('play', function(data) {
					console.log('class', data);
				});
				videoEvents.on('progress', function(data) {
					console.log('class', data);
				});
			}
			
			var player = new Vimeo.Player($('#vimeoplayer'));
			
			var videoEvents = new VideoEvents(player);
			videoEvents.once('end', function(data) {
				console.log('class', data);
			});
			videoEvents.on('progress', function(data) {
				console.log('class', data);
			});
		</script>
	</body>
</html> 